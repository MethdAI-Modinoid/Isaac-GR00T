dataset_list=(
    "datasets/PhysicalAI-Robotics-GR00T-Teleop-G1/g1-pick-apple/"
    "datasets/PhysicalAI-Robotics-GR00T-Teleop-G1/g1-pick-pear/"
    "datasets/PhysicalAI-Robotics-GR00T-Teleop-G1/g1-pick-grapes/"
    "datasets/PhysicalAI-Robotics-GR00T-Teleop-G1/g1-pick-starfruit/"
)

export HF_HUB_DISABLE_XET=1

export PATH=/usr/local/cuda-12.8/bin${PATH:+:${PATH}}
export LD_LIBRARY_PATH=/usr/local/cuda-12.8/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}
export CUDA_HOME=/usr/local/cuda-12.8


PYTHONPATH=$PWD python scripts/gr00t_finetune.py \
    --dataset-path ${dataset_list[@]} \
    --num-gpus 1 --batch-size 95  --output-dir ./checkpoints/converted_vscode/  \
    --data-config unitree_g1 --max-steps 15000

PYTHONPATH=$PWD python scripts/gr00t_finetune.py \
    --dataset-path ./datasets/test_dataset \
    --num-gpus 1 --batch-size 95  --output-dir ./checkpoints/test_dataset/  \
    --data-config unitree_g1 --max-steps 15000

PYTHONPATH=$PWD python g1_deploy/eval_g1.py \
    --policy_host=0.0.0.0 \
    --lang_instruction="Pick the apple from the table and place it into the basket."

source ~/drive2/humanoid_ws/install/setup.bash
source ~/drive2/humanoid_ws/src/unitree_ros2/cyclonedds_ws/install/setup.bash
source ~/drive2/humanoid_ws/src/unitree_ros2/setup.sh

export CYCLONEDDS_URI=file:///home/deepansh/drive2/humanoid_ws/src/unitree_ros2/cyclonedds_ws/src/cyclonedds.xml
export CYCLONEDDS_HOME="~/drive2/humanoid_ws/src/unitree_ros2/cyclonedds_ws/install/cyclonedds"


cd ~/drive2
git clone https://github.com/eclipse-cyclonedds/cyclonedds -b releases/0.10.x 
cd cyclonedds && mkdir build install && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=../install
cmake --build . --target install


sudo apt install ros-jazzy-rmw-cyclonedds-cpp
sudo apt install ros-jazzy-rosidl-generator-dds-idl
sudo apt install libyaml-cpp-dev


~/drive2/humanoid_ws/src/Isaac-GR00T/.venv/bin
export PATH=~/drive2/humanoid_ws/src/Isaac-GR00T/.venv/bin:$PATH

xfreerdp /v:192.168.x.y

######################################
DOCKER HISTORY

export HF_HUB_DISABLE_XET=1

sudo apt update
sudo apt install iproute2
sudo apt install iputils

as root user:
source .venv/bin/activate
pip install -e .
pip install logging_mp


as deepansh:
sudo apt update
sudo apt install nano
nano g1_deploy/eval_g1.py
# Remove the sys.path line

as root user:
source .venv/bin/activate
python g1_deploy/eval_g1.py \
    --policy_host=0.0.0.0 \
    --lang_instruction="Pick the apple from the table and place it into the basket."

# nano into eval_g1, uncomment groot.eval.service import and comment service import
# nano into eval_g1, set network interface in channel factory to eth0

# in a separate terminal
python scripts/inference_service.py --server \
    --model_path ./checkpoints/full-g1-mix-fruits/checkpoint-15000   \
      --embodiment-tag new_embodiment   \
        --data-config unitree_g1_full_body  \
           --denoising-steps 4

python scripts/eval_policy.py --plot \
   --embodiment_tag new_embodiment \
   --model_path ./checkpoints/full-g1-mix-fruits/checkpoint-15000 \
   --data_config unitree_g1 \
   --dataset_path datasets/PhysicalAI-Robotics-GR00T-Teleop-G1/g1-pick-apple/ \
   --video_backend decord \
   --modality_keys left_arm right_arm

# also start the image server:
ssh into unitree
run image_server

nano g1_deploy/eval_g1
sudo ip link set lo multicast on

###########################

repo download:
huggingface-cli download \
    --repo-type dataset deepansh-methdai/test_dataset \
    --local-dir ./datasets/

Removed count variables from stats.json
Using video backend as decord
Converted to h264 codec
--> for f in datasets/test_dataset/videos/chunk-000/observation.images.camera/*.mp4; do ffmpeg -y -i "$f" -c:v libx264 -pix_fmt yuv420p -movflags +faststart "${f%.mp4}_h264.mp4" && mv "${f%.mp4}_h264.mp4" "$f"; done
